webpackJsonp([3],{H6Uh:function(n,t,e){var a=e("kCfh");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("164ac0b0",a,!0)},PMUI:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("Xv2c"),i={name:"city",data:function(){return{list:[],total:0,currentPage:1,pageSize:10,searchMap:{},dialogFormVisible:!1,pojo:{},id:""}},created:function(){this.fetchData()},methods:{fetchData:function(){var n=this;a.a.search(this.currentPage,this.pageSize,this.searchMap).then(function(t){n.list=t.data.rows,n.total=t.data.total})},handleSizeChange:function(n){var t=this;this.pageSize=n,a.a.search(this.currentPage,this.pageSize,this.searchMap).then(function(n){t.list=n.data.rows,t.total=n.data.total})},handleCurrentChange:function(n){var t=this;this.currentPage=n,a.a.search(this.currentPage,this.pageSize,this.searchMap).then(function(n){t.list=n.data.rows,t.total=n.data.total})},handleSave:function(){var n=this;a.a.update(this.id,this.pojo).then(function(t){n.$message({message:t.message,type:t.flag?"success":"error"}),t.flag&&n.fetchData()}),this.dialogFormVisible=!1},handleEdit:function(n){var t=this;this.id=n,this.dialogFormVisible=!0,""!=n?a.a.findById(n).then(function(n){n.flag&&(t.pojo=n.data)}):this.pojo={}},handleDelete:function(n){var t=this;this.$confirm("确定要删除此纪录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.a.deleteById(n).then(function(n){t.$message({message:n.message,type:n.flag?"success":"error"}),n.flag&&t.fetchData()})}).catch(function(){})}}},o={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("br"),n._v(" "),e("el-form",{attrs:{inline:!0}},[e("el-form-item",{attrs:{label:"名称"}},[e("el-input",{attrs:{placeholder:"名称"},model:{value:n.searchMap.name,callback:function(t){n.$set(n.searchMap,"name",t)},expression:"searchMap.name"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"是否热门"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:n.searchMap.ishot,callback:function(t){n.$set(n.searchMap,"ishot",t)},expression:"searchMap.ishot"}},[e("el-option",{attrs:{label:"热门",value:"1"}}),n._v(" "),e("el-option",{attrs:{label:"不热门",value:"0"}})],1)],1),n._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(t){n.fetchData()}}},[n._v("查询")]),n._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(t){n.handleEdit("")}}},[n._v("新增")])],1),n._v(" "),e("el-table",{attrs:{data:n.list}},[e("el-table-column",{attrs:{prop:"name",label:"名称"}}),n._v(" "),e("el-table-column",{attrs:{fixed:"right",label:"是否热门",width:"100px"},scopedSlots:n._u([{key:"default",fn:function(t){return["1"==t.row.ishot?e("i",{staticClass:"el-icon-check"}):n._e(),n._v(" "),"0"==t.row.ishot?e("i",{staticClass:"el-icon-close"}):n._e()]}}])}),n._v(" "),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100px"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){n.handleEdit(t.row.id)}}},[n._v("修改")]),n._v(" "),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){n.handleDelete(t.row.id)}}},[n._v("删除")])]}}])})],1),n._v(" "),e("el-pagination",{attrs:{"current-page":n.currentPage,"page-sizes":[5,10,20],"page-size":n.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:n.total},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange,"update:total":function(t){n.total=t}}}),n._v(" "),e("el-dialog",{attrs:{title:"编辑",visible:n.dialogFormVisible},on:{"update:visible":function(t){n.dialogFormVisible=t}}},[e("el-form",{attrs:{"label-width":"80px"}},[e("el-form-item",{attrs:{label:"名称"}},[e("el-input",{attrs:{placeholder:"名称"},model:{value:n.pojo.name,callback:function(t){n.$set(n.pojo,"name",t)},expression:"pojo.name"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"是否热门"}},[e("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:n.pojo.ishot,callback:function(t){n.$set(n.pojo,"ishot",t)},expression:"pojo.ishot"}})],1),n._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(t){n.handleSave()}}},[n._v("保存")]),n._v(" "),e("el-button",{on:{click:function(t){n.dialogFormVisible=!1}}},[n._v("关闭")])],1)],1)],1)],1)},staticRenderFns:[]};var l=e("VU/8")(i,o,!1,function(n){e("H6Uh")},"data-v-14f3cab5",null);t.default=l.exports},Xv2c:function(n,t,e){"use strict";var a=e("vLgD");t.a={getList:function(){return Object(a.a)({url:"/base/city",method:"get"})},search:function(n,t,e){return Object(a.a)({url:"/base/city/search/"+n+"/"+t,method:"post",data:e})},save:function(n){return Object(a.a)({url:"/base/city",method:"post",data:n})},findById:function(n){return Object(a.a)({url:"/base/city/"+n,method:"get"})},update:function(n,t){return null===n||""===n?this.save(t):Object(a.a)({url:"/base/city/"+n,method:"put",data:t})},deleteById:function(n){return Object(a.a)({url:"/base/city/"+n,method:"delete"})}}},kCfh:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])}});